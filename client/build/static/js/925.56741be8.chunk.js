"use strict";(self.webpackChunkfintools_client=self.webpackChunkfintools_client||[]).push([[925],{42796:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(66734),n=r(70579);const a=(0,s.A)((0,n.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},48132:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(66734),n=r(70579);const a=(0,s.A)((0,n.jsx)("path",{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11zM7 19H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm4 4H9v-2h2zm0-4H9V9h2zm0-4H9V5h2zm4 8h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm4 12h-2v-2h2zm0-4h-2v-2h2z"}),"Apartment")},51214:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(66734),n=r(70579);const a=(0,s.A)((0,n.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth")},80286:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(66734),n=r(70579);const a=(0,s.A)((0,n.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"}),"DirectionsCar")},83925:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ee});var s=r(65043),n=r(96446),a=r(81637),i=r(85865),o=r(19252),l=r(11906),c=r(68903),d=r(12110),h=r(26494),x=r(39336),u=r(63336),m=r(81045),A=r(10611),p=r(77739),j=r(17392),y=r(43845),g=r(83462),b=r(4219),v=r(35316),f=r(67784),C=r(53193),w=r(79190),V=r(69285),z=r(32143),M=r(51787),R=r(29347),k=r(24010),F=r(14194),S=r(66734),D=r(70579);const I=(0,S.A)((0,D.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business");var H=r(80286);const W=(0,S.A)((0,D.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Computer");var L=r(48132),E=r(68970);const P=(0,S.A)([(0,D.jsx)("path",{d:"m21.67 18.17-5.3-5.3h-.99l-2.54 2.54v.99l5.3 5.3c.39.39 1.02.39 1.41 0l2.12-2.12c.39-.38.39-1.02 0-1.41"},"0"),(0,D.jsx)("path",{d:"m17.34 10.19 1.41-1.41 2.12 2.12c1.17-1.17 1.17-3.07 0-4.24l-3.54-3.54-1.41 1.41V1.71l-.7-.71-3.54 3.54.71.71h2.83l-1.41 1.41 1.06 1.06-2.89 2.89-4.13-4.13V5.06L4.83 2.04 2 4.87 5.03 7.9h1.41l4.13 4.13-.85.85H7.6l-5.3 5.3c-.39.39-.39 1.02 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l5.3-5.3v-2.12l5.15-5.15z"},"1")],"Handyman"),q=(0,S.A)((0,D.jsx)("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store");var O=r(70141),N=r(42796),$=r(83560),Y=r(51387),G=r(51214),T=r(33438),_=r(64668),U=r(8729),B=r(28393),J=r(58390),K=r(43278),Q=r(26240),X=r(30344);const Z=["Equipment","Vehicle","Electronics","Property","Furniture","Inventory","Tools","Other"],ee=()=>{const{assets:e,loadAssets:t,assetsLoading:r,assetsLoaded:S,loadFinancialSummary:ee,getFinancialSummary:te,addAsset:re,updateAsset:se,deleteAsset:ne,loading:ae,error:ie}=(0,s.useContext)(_.r),{}=(0,s.useContext)(U.c),[oe,le]=(0,s.useState)(""),[ce,de]=(0,s.useState)(""),[he,xe]=(0,s.useState)(""),[ue,me]=(0,s.useState)(!1),[Ae,pe]=(0,s.useState)({name:"",purchasePrice:"",category:"",purchaseDate:new Date,currentValue:"",status:"Active",notes:""}),[je,ye]=(0,s.useState)(null),[ge,be]=(0,s.useState)(!1),[ve,fe]=(0,s.useState)(null),[Ce,we]=(0,s.useState)("desc"),[Ve,ze]=(0,s.useState)(!1),[Me,Re]=(0,s.useState)(null),[ke,Fe]=(0,s.useState)(!1),[Se,De]=(0,s.useState)(null),[Ie,He]=(0,s.useState)(!1),[We,Le]=(0,s.useState)(!1),[Ee,Pe]=(0,s.useState)("add"),[qe,Oe]=(0,s.useState)({name:"",category:"",purchaseValue:"",currentValue:"",acquisitionDate:new Date,description:"",condition:"Good",location:"",depreciationRate:"",notes:""}),[Ne,$e]=(0,s.useState)(0),[Ye,Ge]=(0,s.useState)(10),Te=(0,Q.A)(),_e=(0,X.A)(Te.breakpoints.down("sm")),[Ue,Be]=(0,s.useState)(!1);if((0,s.useEffect)((()=>{(async()=>{if(!S&&!r)try{await t(),te&&await te()}catch(e){console.error("Failed to load assets:",e),fe("Failed to load assets")}})()}),[t,te,S,r]),r)return(0,D.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"80vh"},children:[(0,D.jsx)(a.A,{size:60,thickness:4,sx:{mb:2}}),(0,D.jsx)(i.A,{variant:"h6",color:"text.secondary",children:"Loading Assets Data..."})]});e.filter((e=>(e.name.toLowerCase().includes(oe.toLowerCase())||e.description&&e.description.toLowerCase().includes(oe.toLowerCase())||e.location&&e.location.toLowerCase().includes(oe.toLowerCase()))&&(""===ce||e.category===ce)&&(""===he||e.status===he))).slice(Ne*Ye,Ne*Ye+Ye);const Je=e=>new Date(e).toLocaleDateString(),Ke=e=>{switch(e){case"Equipment":case"Tools":return"primary";case"Vehicle":return"secondary";case"Electronics":return"info";case"Property":return"success";case"Furniture":return"warning";case"Inventory":return"error";default:return"default"}},Qe=e=>{switch(e){case"Equipment":default:return(0,D.jsx)(I,{});case"Vehicle":return(0,D.jsx)(H.A,{});case"Electronics":return(0,D.jsx)(W,{});case"Property":return(0,D.jsx)(L.A,{});case"Furniture":return(0,D.jsx)(E.A,{});case"Tools":return(0,D.jsx)(P,{});case"Inventory":return(0,D.jsx)(q,{})}},Xe=e=>{const t=new Date(e),r=(new Date-t)/864e5;if(r<30)return`${Math.floor(r)} days`;if(r<365)return`${Math.floor(r/30)} months`;{const e=Math.floor(r/365),t=Math.floor(r%365/30);return t>0?`${e} years, ${t} months`:`${e} years`}};if(ve)return(0,D.jsx)(o.A,{children:(0,D.jsxs)(i.A,{variant:"h6",color:"error",children:["Error: ",ve]})});const Ze={};e.forEach((e=>{Ze[e.category]||(Ze[e.category]=[]),Ze[e.category].push(e)}));e.map((e=>{const t=((e,t,r)=>{if(!t||0===t)return e;const s=new Date(r),n=(new Date-s)/31536e6,a=e*Math.pow(1-t/100,n);return Math.max(a,.1*e)})(e.purchaseValue,e.currentValue||e.purchaseValue,e.acquisitionDate);return{...e,depreciationRate:t}}));return(0,D.jsxs)(n.A,{sx:{p:_e?1:3},children:[(0,D.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,px:_e?1:0},children:[(0,D.jsx)(i.A,{variant:_e?"h5":"h4",component:"h1",sx:{fontWeight:700,fontSize:_e?"1.5rem":"2.125rem",background:"linear-gradient(45deg, #007AFF, #5AC8FA)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Assets"}),!_e&&(0,D.jsx)(l.A,{variant:"contained",color:"primary",startIcon:(0,D.jsx)(O.A,{}),onClick:()=>{Pe("add"),Oe({name:"",category:"",purchaseValue:"",currentValue:"",acquisitionDate:new Date,description:"",condition:"Good",location:"",depreciationRate:"",notes:""}),Le(!0)},sx:{borderRadius:3,px:3,py:1,boxShadow:"0 4px 10px rgba(0, 122, 255, 0.3)",fontWeight:600},children:"Add Asset"})]}),(0,D.jsxs)(c.Ay,{container:!0,spacing:_e?2:3,sx:{mb:3},children:[(0,D.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(d.A,{elevation:0,className:"ios-shadow",sx:{borderRadius:4,height:"100%",overflow:"hidden",background:"linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,1) 100%)",backdropFilter:"blur(20px)"},children:(0,D.jsxs)(h.A,{children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,D.jsx)(n.A,{sx:{width:50,height:50,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2,background:"linear-gradient(45deg, #007AFF, #007AFFCC)",boxShadow:"0 4px 10px rgba(0, 122, 255, 0.2)"},children:(0,D.jsx)(L.A,{sx:{color:"white",fontSize:28}})}),(0,D.jsxs)(n.A,{children:[(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Total Asset Value"}),(0,D.jsx)(i.A,{variant:"h5",component:"div",sx:{fontWeight:700},children:new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e.reduce(((e,t)=>e+(t.currentValue||t.purchaseValue)),0))})]})]}),(0,D.jsx)(x.A,{sx:{my:2}}),(0,D.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,D.jsxs)(c.Ay,{item:!0,xs:6,children:[(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Total Assets"}),(0,D.jsx)(i.A,{variant:"h6",sx:{fontWeight:600},children:e.length})]}),(0,D.jsxs)(c.Ay,{item:!0,xs:6,children:[(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Categories"}),(0,D.jsx)(i.A,{variant:"h6",sx:{fontWeight:600},children:Object.keys(Ze).length})]})]})]})})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,D.jsx)(d.A,{elevation:0,className:"ios-shadow",sx:{borderRadius:4,height:"100%",overflow:"hidden",background:"linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,1) 100%)",backdropFilter:"blur(20px)"},children:(0,D.jsxs)(h.A,{children:[(0,D.jsxs)(i.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center"},children:[(0,D.jsx)(N.A,{sx:{mr:1,color:Te.palette.primary.main}}),"Assets by Category"]}),(0,D.jsx)(c.Ay,{container:!0,spacing:2,children:Object.keys(Ze).map((t=>{const r=Ze[t],s=r.reduce(((e,t)=>e+(t.currentValue||t.purchaseValue)),0),a=r.length;return(0,D.jsx)(c.Ay,{item:!0,xs:6,md:4,children:(0,D.jsxs)(u.A,{elevation:0,sx:{p:2,borderRadius:3,backgroundColor:"rgba(0,0,0,0.02)",height:"100%"},children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,D.jsx)(m.A,{sx:{width:32,height:32,mr:1.5,bgcolor:`${Ke(t)}20`,color:Ke(t)},children:Qe(t)}),(0,D.jsx)(i.A,{variant:"subtitle2",sx:{fontWeight:600},children:t})]}),(0,D.jsxs)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:[a," ",1===a?"Asset":"Assets"]}),(0,D.jsx)(i.A,{variant:"body1",sx:{fontWeight:700,mb:1},children:new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(s)}),(0,D.jsx)(A.A,{variant:"determinate",value:s/(e.reduce(((e,t)=>e+(t.currentValue||t.purchaseValue)),0)||1)*100,sx:{height:6,borderRadius:1,backgroundColor:"rgba(0,0,0,0.04)","& .MuiLinearProgress-bar":{backgroundColor:Ke(t)}}})]})},t)}))})]})})})]}),e.length>0?(0,D.jsx)(n.A,{sx:{px:_e?1:0},children:Object.keys(Ze).map((e=>(0,D.jsxs)(n.A,{sx:{mb:4},children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:2,px:1},children:[(0,D.jsx)(m.A,{sx:{width:34,height:34,mr:1.5,bgcolor:`${Ke(e)}20`,color:Ke(e)},children:Qe(e)}),(0,D.jsx)(i.A,{variant:"h6",sx:{fontWeight:600},children:e}),(0,D.jsxs)(i.A,{variant:"body2",color:"text.secondary",sx:{ml:2},children:["(",Ze[e].length," ",1===Ze[e].length?"asset":"assets",")"]})]}),(0,D.jsx)(c.Ay,{container:!0,spacing:_e?2:3,children:Ze[e].map((e=>(0,D.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,D.jsxs)(d.A,{elevation:0,className:"ios-shadow",sx:{borderRadius:4,overflow:"hidden",position:"relative","&:hover":{"& .asset-actions":{opacity:1}}},children:[(0,D.jsx)(n.A,{sx:{height:8,width:"100%",backgroundColor:Ke(e.category)}}),(0,D.jsxs)(h.A,{children:[(0,D.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,D.jsx)(i.A,{variant:"h6",component:"div",sx:{fontWeight:600,mb:.5},children:e.name}),(0,D.jsxs)(n.A,{className:"asset-actions",sx:{opacity:{xs:1,md:0},transition:"opacity 0.2s"},children:[(0,D.jsx)(p.A,{title:"Edit",children:(0,D.jsx)(j.A,{size:"small",onClick:()=>{Pe("edit"),Re(e),Oe({name:e.name,category:e.category,purchaseValue:e.purchaseValue,currentValue:e.currentValue,acquisitionDate:new Date(e.acquisitionDate),description:e.description||"",condition:e.condition,location:e.location||"",depreciationRate:e.depreciationRate||"",notes:e.notes||""}),Le(!0)},sx:{mr:1,backgroundColor:"rgba(0,0,0,0.03)","&:hover":{backgroundColor:"rgba(0,0,0,0.07)"}},children:(0,D.jsx)($.A,{fontSize:"small"})})}),(0,D.jsx)(p.A,{title:"Delete",children:(0,D.jsx)(j.A,{size:"small",onClick:()=>{Re(e),Fe(!0)},sx:{color:Te.palette.error.main,backgroundColor:"rgba(255,59,48,0.05)","&:hover":{backgroundColor:"rgba(255,59,48,0.1)"}},children:(0,D.jsx)(Y.A,{fontSize:"small"})})})]})]}),e.description&&(0,D.jsx)(i.A,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:e.description}),(0,D.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,D.jsxs)(c.Ay,{item:!0,xs:6,children:[(0,D.jsx)(i.A,{variant:"caption",color:"text.secondary",display:"block",children:"Current Value"}),(0,D.jsx)(i.A,{variant:"body1",sx:{fontWeight:600},children:new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e.currentValue||e.purchaseValue)})]}),(0,D.jsxs)(c.Ay,{item:!0,xs:6,children:[(0,D.jsx)(i.A,{variant:"caption",color:"text.secondary",display:"block",children:"Purchase Value"}),(0,D.jsx)(i.A,{variant:"body1",sx:{fontWeight:500},children:new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e.purchaseValue)})]})]}),(0,D.jsx)(x.A,{sx:{my:2}}),(0,D.jsxs)(c.Ay,{container:!0,spacing:1,children:[(0,D.jsx)(c.Ay,{item:!0,xs:12,children:(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(G.A,{fontSize:"small",sx:{mr:.5,color:"text.secondary",opacity:.7}}),(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",children:Je(e.acquisitionDate)})]}),(0,D.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Age: ",Xe(e.acquisitionDate)]})]})}),e.depreciationRate>0&&(0,D.jsx)(c.Ay,{item:!0,xs:12,sx:{mt:1},children:(0,D.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Depreciation Rate:"}),(0,D.jsxs)(i.A,{variant:"body2",sx:{fontWeight:500,color:Te.palette.error.main},children:[e.depreciationRate.toFixed(1),"% per year"]})]})}),e.location&&(0,D.jsx)(c.Ay,{item:!0,xs:12,sx:{mt:.5},children:(0,D.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Location: ",e.location]})}),e.condition&&(0,D.jsx)(c.Ay,{item:!0,xs:12,sx:{mt:.5},children:(0,D.jsx)(y.A,{label:e.condition,size:"small",sx:{fontWeight:500,bgcolor:"Excellent"===e.condition?"rgba(52, 199, 89, 0.1)":"Good"===e.condition?"rgba(0, 122, 255, 0.1)":"Fair"===e.condition?"rgba(255, 149, 0, 0.1)":"rgba(255, 59, 48, 0.1)",color:"Excellent"===e.condition?"#34C759":"Good"===e.condition?"#007AFF":"Fair"===e.condition?"#FF9500":"#FF3B30"}})})]})]})]})},e._id)))})]},e)))}):(0,D.jsxs)(n.A,{sx:{p:3,textAlign:"center",borderRadius:4,backgroundColor:"rgba(0,0,0,0.02)",mt:4},children:[(0,D.jsx)(L.A,{sx:{fontSize:48,color:"text.secondary",opacity:.5,mb:2}}),(0,D.jsx)(i.A,{variant:"h6",color:"text.secondary",children:"No assets found"}),(0,D.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Add your first asset to get started"})]}),(0,D.jsxs)(g.A,{open:We,onClose:()=>{Le(!1),ze(!1),Fe(!1)},fullScreen:_e,PaperProps:{sx:{borderRadius:_e?0:4,maxWidth:"sm",width:"100%"}},children:[(0,D.jsxs)(b.A,{sx:{pb:1,pt:_e?2:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,D.jsx)(i.A,{variant:"h6",component:"div",sx:{fontWeight:600},children:"add"===Ee?"Add New Asset":"Edit Asset"}),_e&&(0,D.jsx)(j.A,{edge:"end",color:"inherit",onClick:()=>{Le(!1),ze(!1),Fe(!1)},"aria-label":"close",children:(0,D.jsx)(T.A,{})})]}),(0,D.jsx)(v.A,{sx:{pt:2},children:(0,D.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(c.Ay,{item:!0,xs:12,children:(0,D.jsx)(f.A,{name:"name",label:"Asset Name",fullWidth:!0,value:qe.name,onChange:e=>Oe({...qe,name:e.target.value}),sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,children:(0,D.jsx)(f.A,{name:"description",label:"Description (Optional)",fullWidth:!0,multiline:!0,rows:2,value:qe.description,onChange:e=>Oe({...qe,description:e.target.value}),sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsxs)(C.A,{fullWidth:!0,children:[(0,D.jsx)(w.A,{id:"category-label",children:"Category"}),(0,D.jsx)(V.A,{labelId:"category-label",name:"category",value:qe.category,onChange:e=>Oe({...qe,category:e.target.value}),label:"Category",sx:{"& .MuiOutlinedInput-root":{borderRadius:3}},children:Z.map((e=>(0,D.jsx)(z.A,{value:e,children:e},e)))})]})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsxs)(C.A,{fullWidth:!0,children:[(0,D.jsx)(w.A,{id:"condition-label",children:"Condition"}),(0,D.jsxs)(V.A,{labelId:"condition-label",name:"condition",value:qe.condition,onChange:e=>Oe({...qe,condition:e.target.value}),label:"Condition",sx:{"& .MuiOutlinedInput-root":{borderRadius:3}},children:[(0,D.jsx)(z.A,{value:"Excellent",children:"Excellent"}),(0,D.jsx)(z.A,{value:"Good",children:"Good"}),(0,D.jsx)(z.A,{value:"Fair",children:"Fair"}),(0,D.jsx)(z.A,{value:"Poor",children:"Poor"})]})]})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,children:(0,D.jsx)(J.$,{dateAdapter:B.h,children:(0,D.jsx)(K.l,{label:"Acquisition Date",value:qe.acquisitionDate,onChange:e=>Oe({...qe,acquisitionDate:e}),slotProps:{textField:{fullWidth:!0,margin:"normal",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}}}})})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(f.A,{name:"purchaseValue",label:"Purchase Value (RM)",type:"number",fullWidth:!0,value:qe.purchaseValue,onChange:e=>Oe({...qe,purchaseValue:e.target.value}),InputProps:{startAdornment:(0,D.jsx)(M.A,{position:"start",children:"RM"})},sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,D.jsx)(f.A,{name:"currentValue",label:"Current Value (RM)",type:"number",fullWidth:!0,value:qe.currentValue,onChange:e=>Oe({...qe,currentValue:e.target.value}),InputProps:{startAdornment:(0,D.jsx)(M.A,{position:"start",children:"RM"})},sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})}),(0,D.jsx)(c.Ay,{item:!0,xs:12,children:(0,D.jsx)(f.A,{name:"location",label:"Location (Optional)",fullWidth:!0,value:qe.location,onChange:e=>Oe({...qe,location:e.target.value}),sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})})]})}),(0,D.jsxs)(R.A,{sx:{px:3,pb:3,pt:2},children:[!_e&&(0,D.jsx)(l.A,{onClick:()=>{Le(!1),ze(!1),Fe(!1)},variant:"outlined",sx:{borderRadius:3,px:3},children:"Cancel"}),(0,D.jsx)(l.A,{onClick:()=>{"add"===Ee?re(qe):se(Me._id,qe),Le(!1),ze(!1),Fe(!1)},variant:"contained",color:"primary",fullWidth:_e,sx:{borderRadius:3,px:3,py:1,boxShadow:"0 4px 10px rgba(0, 122, 255, 0.3)",fontWeight:600},children:"add"===Ee?"Add Asset":"Update"})]})]}),_e&&(0,D.jsx)(k.A,{color:"primary","aria-label":"add",onClick:()=>{Pe("add"),Oe({name:"",category:"",purchaseValue:"",currentValue:"",acquisitionDate:new Date,description:"",condition:"Good",location:"",depreciationRate:"",notes:""}),Le(!0)},sx:{position:"fixed",bottom:80,right:16,boxShadow:"0 4px 14px rgba(0, 122, 255, 0.5)"},children:(0,D.jsx)(O.A,{})}),(0,D.jsx)(g.A,{open:ke,onClose:()=>{ae||Ue||(Fe(!1),fe(null))},PaperProps:{sx:{borderRadius:4,overflow:"hidden",maxWidth:"400px"}},children:Me&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(b.A,{sx:{pt:3,px:3},children:(0,D.jsx)(i.A,{variant:"h6",sx:{fontWeight:600},children:"Delete Asset"})}),(0,D.jsxs)(v.A,{sx:{px:3,pt:1},children:[ve&&(0,D.jsx)(F.A,{severity:"error",sx:{mb:2,borderRadius:2},children:ve}),(0,D.jsx)(i.A,{variant:"body1",sx:{mb:2},children:"Are you sure you want to delete this asset?"}),(0,D.jsxs)(u.A,{elevation:0,sx:{p:2,borderRadius:3,backgroundColor:"rgba(0,0,0,0.03)",display:"flex",alignItems:"center"},children:[(0,D.jsx)(m.A,{sx:{bgcolor:`${Ke(Me.category)}.main`,width:40,height:40,mr:2},children:Qe(Me.category)}),(0,D.jsxs)(n.A,{sx:{flex:1},children:[(0,D.jsx)(i.A,{variant:"subtitle2",sx:{fontWeight:500,lineHeight:1.2},children:Me.name}),(0,D.jsxs)(i.A,{variant:"caption",color:"text.secondary",children:[(et=Me.currentValue,et||0===et?new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",minimumFractionDigits:2}).format(et):"-")," \u2022 ",Je(Me.acquisitionDate)]})]})]})]}),(0,D.jsxs)(R.A,{sx:{px:3,py:2},children:[(0,D.jsx)(l.A,{onClick:()=>{Fe(!1),fe(null)},disabled:ae||Ue,sx:{borderRadius:8,px:3,color:"text.secondary"},children:"Cancel"}),(0,D.jsx)(l.A,{onClick:async()=>{try{Be(!0),console.log(`Attempting to delete asset: ${Me._id}`);await ne(Me._id)?(console.log("Delete successful, closing dialogs"),Fe(!1)):(console.error(`Delete failed with error in context: ${ie}`),fe(ie||"Failed to delete asset: Unknown error"))}catch(e){console.error("Error in delete confirmation:",e),fe(`Failed to delete asset: ${e.message||"Unknown error"}`)}finally{Be(!1)}},variant:"contained",color:"error",disabled:ae||Ue,startIcon:ae||Ue?(0,D.jsx)(a.A,{size:16,color:"inherit"}):null,sx:{borderRadius:8,px:3},children:ae||Ue?"Deleting...":"Delete"})]})]})})]});var et}}}]);
//# sourceMappingURL=925.56741be8.chunk.js.map